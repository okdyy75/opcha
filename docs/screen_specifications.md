# 画面仕様書

## 概要
オープンチャットサービス（opcha）のフロントエンド画面仕様

## 共通仕様

### デザイン
- **テーマ**: モダンなチャットデザイン
- **カラー**: 
  - Primary: #3b82f6（ブルー）- メインボタン・アクション
  - Secondary: #f97316（オレンジ）- セカンダリアクション  
  - Success: #22c55e（グリーン）- 成功状態・通知
- **レスポンシブ**: モバイルファースト（最大幅384px）
- **フォント**: システムフォント

### ユーザー識別
- **ニックネーム**: ユーザーが変更可能（例: `ぐれーとネコ123`）
- **セッションID**: 変更不可能な識別子（例: `abc123`）
- **永続化**: LocalStorageで保存

---

## 1. トップページ（/）

### 機能
- **ルーム作成**: 新しいルームを作成
- **ルーム参加**: ルームIDを入力してルームに参加
- **ルーム一覧リンク**: ルーム一覧ページ（/rooms）への遷移

---

## 2. ルーム一覧ページ（/rooms）

### 機能
- **ルーム一覧表示**: 参加人数・最終活動時間付き
- **ルーム作成**: モーダルでルーム名入力
- **トップページへの戻る**: ヘッダーの戻るボタン

---

## 3. チャットルーム画面（/rooms/[id]）

### 機能

#### メッセージ機能
- **メッセージ表示**: チャット風の吹き出しデザイン
- **自動スクロール**: 新しいメッセージに自動スクロール
- **リアルタイム表示**: メッセージの即座反映
- **Enterキー送信**: Enterキーでメッセージ送信

#### メッセージ表示形式
- **他人のメッセージ**: 左寄せ、白い吹き出し
- **自分のメッセージ**: 右寄せ、ブルーの吹き出し
- **ユーザー情報**: ニックネーム（太字）+ セッションID（薄色）
- **タイムスタンプ**: 時:分形式

#### その他機能
- **戻るボタン**: ルーム一覧ページ（/rooms）に戻る
- **ニックネーム変更**: 👤アイコンクリック
- **URLシェア**: オレンジ色のシェアボタン、Toast通知付き
- **自分の情報表示**: メッセージ入力欄上部

---

## 4. ニックネーム設定モーダル

### 機能
- **手動入力**: 自由にニックネーム入力（20文字制限）
- **ランダム生成**: 🎲ボタンでランダムニックネーム生成
- **プレビュー**: 生成されたニックネームを確認後設定
- **バリデーション**: 空文字・文字数制限チェック

---

## 5. Toast通知

### 表示タイプ
- **成功**: グリーン色（#22c55e）- ニックネーム更新、URLコピー等
- **エラー**: 赤色（#ef4444）- エラーメッセージ
- **情報**: グレー色（#374151）- 一般的な通知

### 動作
- **表示時間**: 3秒間
- **位置**: 画面上部中央
- **アニメーション**: フェードイン・アウト

---

## 6. データ仕様

### ニックネーム生成ルール
```
形容詞 + 動物 + 数字3桁
例: きゅーとネコ123, ぐれーとイヌ456
```

### セッションID生成ルール
```
英数字6桁
例: abc123, def456
```

### LocalStorage仕様
- **ニックネーム**: `opcha_nickname`
- **セッションID**: `opcha_session_id`

---

## 7. レスポンシブデザイン

### ブレークポイント
- **モバイル**: ~768px（メイン対象）
- **デスクトップ**: 768px~（中央配置、最大幅384px）

### 特徴
- **タッチフレンドリー**: 適切なタップターゲットサイズ
- **スクロール**: カスタムスクロールバー
- **フォーカス管理**: キーボード操作対応

---

## 8. アクセシビリティ

### 対応項目
- **WAI-ARIA準拠**: モーダル・通知・フォームで適切な属性を使用
- **キーボード操作**: Enter・Escapeキー対応
- **スクリーンリーダー対応**: 適切なラベルと説明を提供
- **基本対応**: 十分なコントラスト・セマンティックHTML
